# SPDX-FileCopyrightText: (c) 2003-2025 The Apache Software Foundation (ASF) and contributors.
# SPDX-FileCopyrightText: (c) 2025 Liferay, Inc.
# SPDX-License-Identifier: Apache-2.0

This directory contains the source code for the Liferay Plutonium 3.0 project.
Liferay Plutonium 3.0 is the third version of the JSR-362 Reference Implementation
(Java Portlet API 3.0) and Technology Compliance Kit (TCK). The project can 
be built using the maven command:

mvn clean install -Pplutonium

The command line switch '-Ppluto' activates a maven profile that causes the 
TCK war files to be built for running in the Plutonium environment.

See the portlet-tck_3.0/README.txt file for information on the TCK.

Building with dist-build.xml
============================

A simplified way to build a bundled Plutonium 3.0 distribution is to use the
dist-build.xml Ant build which downloads Tomcat and calls the appropriate Maven
commands to create a distribution with Plutonium embedded in Tomcat. It will also
copy the portlet API jars (source, executable, and javadoc) into the
distribution directory. Optionally, the TCK can be packaged as well. The
finished bundles and jar files will be located in the target/dist directory.

See the documentation in dist-build.xml for details on how to run the build.

Once the bundle has been built, you can unpack it and run the RI. There are three 
bundles available in different formats that have the same contents.

plutonium-<version>-bundle.zip
plutonium-<version>-bundle.gz
plutonium-<version>-bundle.bz2

where <version> is equal to '3.0-SNAPSHOT' for a snapshot build or '3.0' for the
release build.

Select the bundle file appropriate for your environment and unpack it to the 
directory of choice. After unpacking, navigate to the directory:

./plutonium-<version>/bin

and run either startup.bat or startup.sh depending on your environment. This
will start Tomcat with the Plutonium application installed.

The application is configured to use port 8080. You can access the application 
with the following URL:

http://localhost:8080/plutonium/portal

Use the credentials plutonium/plutonium to log on to the application.

Third-Party Licensing
=====================

The Liferay Plutonium software is compiled against version 2.1.1 of the JAX-RS API
which is made available under the Eclipse Public License, version 2.0 (EPL 2.0).

In addition, the software is compiled against version 1.3.1 of the Common
Annotations for the Java(TM) Platform API (Commons-Annotations API) which is
made available under the Common Development and Distribution License (CDDL).

According to the [ASF 3RD PARTY LICENSE POLICY]
(https://apache.org/legal/resolved.html#weak-copyleft-licenses), third-party
software that is licensed under the EPL 2.0 or CDDL licenses may be included
in binary form. To that end, the binary version of the JAX-RS API dependency
is found in the following path of the Plutonium+Tomcat bundle:

    <tomcat-home>/lib/jakarta.ws.rs-api-2.1.1.jar

Apache Tomcat includes its own version of the Commons-Annotations API (which is
licensed under the Apache License, Version 2.0) in the following-path of the
Plutonium-Tomcat bundle:

    <tomcat-home>/lib/annotations-api.jar
